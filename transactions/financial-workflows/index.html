<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Enterprise-Grade Fleet Management Powered by ERPNext - A comprehensive, open-source fleet management solution built on the Frappe framework"><meta name=author content="VSD Team"><link href=../trip-management/ rel=prev><link href=../../api/doctype-reference/ rel=next><link rel=icon href=../../assets/logo.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>Financial Workflows - VSD Fleet Management System</title><link rel=stylesheet href=../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><meta property=og:type content=website><meta property=og:title content="Financial Workflows - VSD Fleet Management System"><meta property=og:description content="Enterprise-Grade Fleet Management Powered by ERPNext - A comprehensive, open-source fleet management solution built on the Frappe framework"><meta property=og:image content=./assets/images/social/transactions/financial-workflows.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta property=og:url content=None><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="Financial Workflows - VSD Fleet Management System"><meta name=twitter:description content="Enterprise-Grade Fleet Management Powered by ERPNext - A comprehensive, open-source fleet management solution built on the Frappe framework"><meta name=twitter:image content=./assets/images/social/transactions/financial-workflows.png></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#financial-workflows-fund-and-fuel-management class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="VSD Fleet Management System" class="md-header__button md-logo" aria-label="VSD Fleet Management System" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 14h14l-1.5-4.5h-11zm12.5 5a1.5 1.5 0 0 0 1.5-1.5 1.5 1.5 0 0 0-1.5-1.5 1.5 1.5 0 0 0-1.5 1.5 1.5 1.5 0 0 0 1.5 1.5m-11 0A1.5 1.5 0 0 0 8 17.5 1.5 1.5 0 0 0 6.5 16 1.5 1.5 0 0 0 5 17.5 1.5 1.5 0 0 0 6.5 19M18.92 9 21 15v8a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H6v1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8l2.08-6c.2-.58.77-1 1.42-1h11c.65 0 1.22.42 1.42 1M12 0c2.12 0 4.15.86 5.65 2.35l-1.42 1.42A6.02 6.02 0 0 0 12 2c-1.58 0-3.11.65-4.23 1.77L6.36 2.35A8 8 0 0 1 12 0m0 4c1.06 0 2.07.44 2.82 1.18L13.4 6.6c-.37-.37-.87-.6-1.4-.6-.5 0-1.03.23-1.4.6L9.18 5.18C9.93 4.44 10.94 4 12 4"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VSD Fleet Management System </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Financial Workflows </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nelsonmpanju/Fleet-Management-System title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> nelsonmpanju/Fleet-Management-System </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../installation/ class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../user-guide/complete-workflow/ class=md-tabs__link> User Guide </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../cargo-registration/ class=md-tabs__link> Core Operations </a> </li> <li class=md-tabs__item> <a href=../../api/doctype-reference/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../CONTRIBUTING/ class=md-tabs__link> Contributing </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="VSD Fleet Management System" class="md-nav__button md-logo" aria-label="VSD Fleet Management System" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 14h14l-1.5-4.5h-11zm12.5 5a1.5 1.5 0 0 0 1.5-1.5 1.5 1.5 0 0 0-1.5-1.5 1.5 1.5 0 0 0-1.5 1.5 1.5 1.5 0 0 0 1.5 1.5m-11 0A1.5 1.5 0 0 0 8 17.5 1.5 1.5 0 0 0 6.5 16 1.5 1.5 0 0 0 5 17.5 1.5 1.5 0 0 0 6.5 19M18.92 9 21 15v8a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H6v1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8l2.08-6c.2-.58.77-1 1.42-1h11c.65 0 1.22.42 1.42 1M12 0c2.12 0 4.15.86 5.65 2.35l-1.42 1.42A6.02 6.02 0 0 0 12 2c-1.58 0-3.11.65-4.23 1.77L6.36 2.35A8 8 0 0 1 12 0m0 4c1.06 0 2.07.44 2.82 1.18L13.4 6.6c-.37-.37-.87-.6-1.4-.6-.5 0-1.03.23-1.4.6L9.18 5.18C9.93 4.44 10.94 4 12 4"/></svg> </a> VSD Fleet Management System </label> <div class=md-nav__source> <a href=https://github.com/nelsonmpanju/Fleet-Management-System title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> nelsonmpanju/Fleet-Management-System </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/complete-workflow/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../../setup/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/complete-workflow/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../../setup/master/ class=md-nav__link> <span class=md-ellipsis> Master Data Setup </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Core Operations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Core Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cargo-registration/ class=md-nav__link> <span class=md-ellipsis> Cargo Registration </span> </a> </li> <li class=md-nav__item> <a href=../manifest-management/ class=md-nav__link> <span class=md-ellipsis> Manifest Management </span> </a> </li> <li class=md-nav__item> <a href=../trip-management/ class=md-nav__link> <span class=md-ellipsis> Trip Management </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Financial Workflows </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Financial Workflows </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview-of-financial-processes class=md-nav__link> <span class=md-ellipsis> Overview of Financial Processes </span> </a> <nav class=md-nav aria-label="Overview of Financial Processes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#two-primary-financial-workflows class=md-nav__link> <span class=md-ellipsis> Two Primary Financial Workflows </span> </a> </li> <li class=md-nav__item> <a href=#integration-with-erpnext class=md-nav__link> <span class=md-ellipsis> Integration with ERPNext </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trip-fund-management-workflow class=md-nav__link> <span class=md-ellipsis> Trip Fund Management Workflow </span> </a> <nav class=md-nav aria-label="Trip Fund Management Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-automatic-fund-request-generation class=md-nav__link> <span class=md-ellipsis> 1. Automatic Fund Request Generation </span> </a> </li> <li class=md-nav__item> <a href=#2-requested-payment-document class=md-nav__link> <span class=md-ellipsis> 2. Requested Payment Document </span> </a> <nav class=md-nav aria-label="2. Requested Payment Document"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#document-structure class=md-nav__link> <span class=md-ellipsis> Document Structure </span> </a> </li> <li class=md-nav__item> <a href=#key-features class=md-nav__link> <span class=md-ellipsis> Key Features </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-fund-approval-process class=md-nav__link> <span class=md-ellipsis> 3. Fund Approval Process </span> </a> <nav class=md-nav aria-label="3. Fund Approval Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#approval-interface class=md-nav__link> <span class=md-ellipsis> Approval Interface </span> </a> </li> <li class=md-nav__item> <a href=#business-logic class=md-nav__link> <span class=md-ellipsis> Business Logic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-journal-entry-creation class=md-nav__link> <span class=md-ellipsis> 4. Journal Entry Creation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fuel-request-management-workflow class=md-nav__link> <span class=md-ellipsis> Fuel Request Management Workflow </span> </a> <nav class=md-nav aria-label="Fuel Request Management Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-fuel-request-creation class=md-nav__link> <span class=md-ellipsis> 1. Fuel Request Creation </span> </a> <nav class=md-nav aria-label="1. Fuel Request Creation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#required-information class=md-nav__link> <span class=md-ellipsis> Required Information </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-fuel-requests-document class=md-nav__link> <span class=md-ellipsis> 2. Fuel Requests Document </span> </a> <nav class=md-nav aria-label="2. Fuel Requests Document"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#document-features class=md-nav__link> <span class=md-ellipsis> Document Features </span> </a> </li> <li class=md-nav__item> <a href=#custom-load-function class=md-nav__link> <span class=md-ellipsis> Custom Load Function </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-fuel-approval-process class=md-nav__link> <span class=md-ellipsis> 3. Fuel Approval Process </span> </a> <nav class=md-nav aria-label="3. Fuel Approval Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#approval-interface_1 class=md-nav__link> <span class=md-ellipsis> Approval Interface </span> </a> </li> <li class=md-nav__item> <a href=#validation-rules class=md-nav__link> <span class=md-ellipsis> Validation Rules </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-purchase-order-generation class=md-nav__link> <span class=md-ellipsis> 4. Purchase Order Generation </span> </a> </li> <li class=md-nav__item> <a href=#5-stock-entry-management class=md-nav__link> <span class=md-ellipsis> 5. Stock Entry Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#real-time-financial-tracking class=md-nav__link> <span class=md-ellipsis> Real-time Financial Tracking </span> </a> <nav class=md-nav aria-label="Real-time Financial Tracking"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dashboard-summaries class=md-nav__link> <span class=md-ellipsis> Dashboard Summaries </span> </a> <nav class=md-nav aria-label="Dashboard Summaries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trip-funds-display class=md-nav__link> <span class=md-ellipsis> Trip Funds Display </span> </a> </li> <li class=md-nav__item> <a href=#fuel-tracking class=md-nav__link> <span class=md-ellipsis> Fuel Tracking </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#accounting-dimension-integration class=md-nav__link> <span class=md-ellipsis> Accounting Dimension Integration </span> </a> <nav class=md-nav aria-label="Accounting Dimension Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#automatic-dimension-setting class=md-nav__link> <span class=md-ellipsis> Automatic Dimension Setting </span> </a> </li> <li class=md-nav__item> <a href=#supported-dimensions class=md-nav__link> <span class=md-ellipsis> Supported Dimensions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#multi-currency-support class=md-nav__link> <span class=md-ellipsis> Multi-Currency Support </span> </a> <nav class=md-nav aria-label="Multi-Currency Support"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#currency-handling class=md-nav__link> <span class=md-ellipsis> Currency Handling </span> </a> </li> <li class=md-nav__item> <a href=#exchange-rate-management class=md-nav__link> <span class=md-ellipsis> Exchange Rate Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#status-management-and-validation class=md-nav__link> <span class=md-ellipsis> Status Management and Validation </span> </a> <nav class=md-nav aria-label="Status Management and Validation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fund-request-statuses class=md-nav__link> <span class=md-ellipsis> Fund Request Statuses </span> </a> </li> <li class=md-nav__item> <a href=#fuel-request-statuses class=md-nav__link> <span class=md-ellipsis> Fuel Request Statuses </span> </a> </li> <li class=md-nav__item> <a href=#validation-gates class=md-nav__link> <span class=md-ellipsis> Validation Gates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fund-management class=md-nav__link> <span class=md-ellipsis> Fund Management </span> </a> </li> <li class=md-nav__item> <a href=#fuel-management class=md-nav__link> <span class=md-ellipsis> Fuel Management </span> </a> </li> <li class=md-nav__item> <a href=#financial-controls class=md-nav__link> <span class=md-ellipsis> Financial Controls </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reporting-and-analytics class=md-nav__link> <span class=md-ellipsis> Reporting and Analytics </span> </a> <nav class=md-nav aria-label="Reporting and Analytics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-reports class=md-nav__link> <span class=md-ellipsis> Standard Reports </span> </a> </li> <li class=md-nav__item> <a href=#key-metrics class=md-nav__link> <span class=md-ellipsis> Key Metrics </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api/doctype-reference/ class=md-nav__link> <span class=md-ellipsis> DocType Reference </span> </a> </li> <li class=md-nav__item> <a href=../../api/doctype-reference/ class=md-nav__link> <span class=md-ellipsis> DocType Reference </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../CONTRIBUTING/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../CONTRIBUTING.md#reporting-bugs class=md-nav__link> <span class=md-ellipsis> Reporting Issues </span> </a> </li> <li class=md-nav__item> <a href=../../CONTRIBUTING.md#development class=md-nav__link> <span class=md-ellipsis> Making Changes </span> </a> </li> <li class=md-nav__item> <a href=../../CONTRIBUTING.md#documentation class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> </li> <li class=md-nav__item> <a href=../../CONTRIBUTING.md#community class=md-nav__link> <span class=md-ellipsis> Community </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview-of-financial-processes class=md-nav__link> <span class=md-ellipsis> Overview of Financial Processes </span> </a> <nav class=md-nav aria-label="Overview of Financial Processes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#two-primary-financial-workflows class=md-nav__link> <span class=md-ellipsis> Two Primary Financial Workflows </span> </a> </li> <li class=md-nav__item> <a href=#integration-with-erpnext class=md-nav__link> <span class=md-ellipsis> Integration with ERPNext </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#trip-fund-management-workflow class=md-nav__link> <span class=md-ellipsis> Trip Fund Management Workflow </span> </a> <nav class=md-nav aria-label="Trip Fund Management Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-automatic-fund-request-generation class=md-nav__link> <span class=md-ellipsis> 1. Automatic Fund Request Generation </span> </a> </li> <li class=md-nav__item> <a href=#2-requested-payment-document class=md-nav__link> <span class=md-ellipsis> 2. Requested Payment Document </span> </a> <nav class=md-nav aria-label="2. Requested Payment Document"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#document-structure class=md-nav__link> <span class=md-ellipsis> Document Structure </span> </a> </li> <li class=md-nav__item> <a href=#key-features class=md-nav__link> <span class=md-ellipsis> Key Features </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-fund-approval-process class=md-nav__link> <span class=md-ellipsis> 3. Fund Approval Process </span> </a> <nav class=md-nav aria-label="3. Fund Approval Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#approval-interface class=md-nav__link> <span class=md-ellipsis> Approval Interface </span> </a> </li> <li class=md-nav__item> <a href=#business-logic class=md-nav__link> <span class=md-ellipsis> Business Logic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-journal-entry-creation class=md-nav__link> <span class=md-ellipsis> 4. Journal Entry Creation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fuel-request-management-workflow class=md-nav__link> <span class=md-ellipsis> Fuel Request Management Workflow </span> </a> <nav class=md-nav aria-label="Fuel Request Management Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-fuel-request-creation class=md-nav__link> <span class=md-ellipsis> 1. Fuel Request Creation </span> </a> <nav class=md-nav aria-label="1. Fuel Request Creation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#required-information class=md-nav__link> <span class=md-ellipsis> Required Information </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-fuel-requests-document class=md-nav__link> <span class=md-ellipsis> 2. Fuel Requests Document </span> </a> <nav class=md-nav aria-label="2. Fuel Requests Document"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#document-features class=md-nav__link> <span class=md-ellipsis> Document Features </span> </a> </li> <li class=md-nav__item> <a href=#custom-load-function class=md-nav__link> <span class=md-ellipsis> Custom Load Function </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-fuel-approval-process class=md-nav__link> <span class=md-ellipsis> 3. Fuel Approval Process </span> </a> <nav class=md-nav aria-label="3. Fuel Approval Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#approval-interface_1 class=md-nav__link> <span class=md-ellipsis> Approval Interface </span> </a> </li> <li class=md-nav__item> <a href=#validation-rules class=md-nav__link> <span class=md-ellipsis> Validation Rules </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-purchase-order-generation class=md-nav__link> <span class=md-ellipsis> 4. Purchase Order Generation </span> </a> </li> <li class=md-nav__item> <a href=#5-stock-entry-management class=md-nav__link> <span class=md-ellipsis> 5. Stock Entry Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#real-time-financial-tracking class=md-nav__link> <span class=md-ellipsis> Real-time Financial Tracking </span> </a> <nav class=md-nav aria-label="Real-time Financial Tracking"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dashboard-summaries class=md-nav__link> <span class=md-ellipsis> Dashboard Summaries </span> </a> <nav class=md-nav aria-label="Dashboard Summaries"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trip-funds-display class=md-nav__link> <span class=md-ellipsis> Trip Funds Display </span> </a> </li> <li class=md-nav__item> <a href=#fuel-tracking class=md-nav__link> <span class=md-ellipsis> Fuel Tracking </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#accounting-dimension-integration class=md-nav__link> <span class=md-ellipsis> Accounting Dimension Integration </span> </a> <nav class=md-nav aria-label="Accounting Dimension Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#automatic-dimension-setting class=md-nav__link> <span class=md-ellipsis> Automatic Dimension Setting </span> </a> </li> <li class=md-nav__item> <a href=#supported-dimensions class=md-nav__link> <span class=md-ellipsis> Supported Dimensions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#multi-currency-support class=md-nav__link> <span class=md-ellipsis> Multi-Currency Support </span> </a> <nav class=md-nav aria-label="Multi-Currency Support"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#currency-handling class=md-nav__link> <span class=md-ellipsis> Currency Handling </span> </a> </li> <li class=md-nav__item> <a href=#exchange-rate-management class=md-nav__link> <span class=md-ellipsis> Exchange Rate Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#status-management-and-validation class=md-nav__link> <span class=md-ellipsis> Status Management and Validation </span> </a> <nav class=md-nav aria-label="Status Management and Validation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fund-request-statuses class=md-nav__link> <span class=md-ellipsis> Fund Request Statuses </span> </a> </li> <li class=md-nav__item> <a href=#fuel-request-statuses class=md-nav__link> <span class=md-ellipsis> Fuel Request Statuses </span> </a> </li> <li class=md-nav__item> <a href=#validation-gates class=md-nav__link> <span class=md-ellipsis> Validation Gates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fund-management class=md-nav__link> <span class=md-ellipsis> Fund Management </span> </a> </li> <li class=md-nav__item> <a href=#fuel-management class=md-nav__link> <span class=md-ellipsis> Fuel Management </span> </a> </li> <li class=md-nav__item> <a href=#financial-controls class=md-nav__link> <span class=md-ellipsis> Financial Controls </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reporting-and-analytics class=md-nav__link> <span class=md-ellipsis> Reporting and Analytics </span> </a> <nav class=md-nav aria-label="Reporting and Analytics"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-reports class=md-nav__link> <span class=md-ellipsis> Standard Reports </span> </a> </li> <li class=md-nav__item> <a href=#key-metrics class=md-nav__link> <span class=md-ellipsis> Key Metrics </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=financial-workflows-fund-and-fuel-management>Financial Workflows: Fund and Fuel Management<a class=headerlink href=#financial-workflows-fund-and-fuel-management title="Permanent link">&para;</a></h1> <p>The VSD Fleet Management System includes sophisticated financial management workflows for handling trip expenses and fuel procurement. These processes ensure proper authorization, tracking, and accounting for all transportation-related costs.</p> <hr> <h2 id=overview-of-financial-processes>Overview of Financial Processes<a class=headerlink href=#overview-of-financial-processes title="Permanent link">&para;</a></h2> <h3 id=two-primary-financial-workflows>Two Primary Financial Workflows<a class=headerlink href=#two-primary-financial-workflows title="Permanent link">&para;</a></h3> <ol> <li><strong>Trip Fund Management</strong>: Handling fixed expenses, driver allowances, and operational costs</li> <li><strong>Fuel Request Management</strong>: Managing fuel procurement, approval, and stock management</li> </ol> <h3 id=integration-with-erpnext>Integration with ERPNext<a class=headerlink href=#integration-with-erpnext title="Permanent link">&para;</a></h3> <ul> <li><strong>Journal Entries</strong>: Automatic creation for approved funds</li> <li><strong>Purchase Orders</strong>: Generated for approved fuel requests</li> <li><strong>Stock Entries</strong>: Fuel stock management and consumption</li> <li><strong>Accounting Dimensions</strong>: Automatic dimension setting for financial tracking</li> </ul> <hr> <h2 id=trip-fund-management-workflow>Trip Fund Management Workflow<a class=headerlink href=#trip-fund-management-workflow title="Permanent link">&para;</a></h2> <h3 id=1-automatic-fund-request-generation>1. Automatic Fund Request Generation<a class=headerlink href=#1-automatic-fund-request-generation title="Permanent link">&para;</a></h3> <p>When a trip is created, the system automatically generates fund requests based on the route's fixed expenses:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>def</span><span class=w> </span><span class=nf>set_expenses</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>reference_route</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_doc</span><span class=p>(</span><span class=s2>&quot;Trip Routes&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>route</span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>reference_route</span><span class=o>.</span><span class=n>fixed_expenses</span><span class=p>:</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        <span class=n>fixed_expense_doc</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_doc</span><span class=p>(</span><span class=s2>&quot;Fixed Expenses&quot;</span><span class=p>,</span> <span class=n>row</span><span class=o>.</span><span class=n>expense</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>        <span class=n>new_row</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;requested_fund_accounts_table&quot;</span><span class=p>,</span> <span class=p>{</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>            <span class=s2>&quot;requested_date&quot;</span><span class=p>:</span> <span class=n>nowdate</span><span class=p>(),</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>            <span class=s2>&quot;request_amount&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>amount</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>            <span class=s2>&quot;request_currency&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>currency</span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>            <span class=s2>&quot;request_status&quot;</span><span class=p>:</span> <span class=s2>&quot;Requested&quot;</span><span class=p>,</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>            <span class=s2>&quot;expense_type&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>expense</span><span class=p>,</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>            <span class=s2>&quot;expense_account&quot;</span><span class=p>:</span> <span class=n>fixed_expense_doc</span><span class=o>.</span><span class=n>expense_account</span><span class=p>,</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>            <span class=s2>&quot;payable_account&quot;</span><span class=p>:</span> <span class=n>fixed_expense_doc</span><span class=o>.</span><span class=n>cash_bank_account</span><span class=p>,</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>            <span class=s2>&quot;party_type&quot;</span><span class=p>:</span> <span class=n>row</span><span class=o>.</span><span class=n>party_type</span><span class=p>,</span>
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>        <span class=p>})</span>
</span></code></pre></div> <h3 id=2-requested-payment-document>2. Requested Payment Document<a class=headerlink href=#2-requested-payment-document title="Permanent link">&para;</a></h3> <p>The system creates a <strong>Requested Payment</strong> document that aggregates all fund requests for approval:</p> <h4 id=document-structure>Document Structure<a class=headerlink href=#document-structure title="Permanent link">&para;</a></h4> <ul> <li><strong>Header Information</strong>: Company, truck, driver, manifest details</li> <li><strong>Requested Funds</strong>: All pending fund requests</li> <li><strong>Approval Section</strong>: Approved/rejected requests</li> <li><strong>Status Tracking</strong>: Overall approval and payment status</li> </ul> <h4 id=key-features>Key Features<a class=headerlink href=#key-features title="Permanent link">&para;</a></h4> <ul> <li><strong>Approve/Reject Buttons</strong>: Individual request management</li> <li><strong>Real-time Totals</strong>: USD and TZS summaries</li> <li><strong>Status Updates</strong>: Automatic status progression</li> <li><strong>Payment Tracking</strong>: Journal entry linking</li> </ul> <h3 id=3-fund-approval-process>3. Fund Approval Process<a class=headerlink href=#3-fund-approval-process title="Permanent link">&para;</a></h3> <h4 id=approval-interface>Approval Interface<a class=headerlink href=#approval-interface title="Permanent link">&para;</a></h4> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>// Approve/Reject buttons with status tracking</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nx>cur_frm</span><span class=p>.</span><span class=nx>cscript</span><span class=p>.</span><span class=nx>approve_request</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kd>function</span><span class=p>(</span><span class=nx>frm</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=c1>// Move from requested to approved status</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=c1>// Update totals and payment status</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>};</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=nx>cur_frm</span><span class=p>.</span><span class=nx>cscript</span><span class=p>.</span><span class=nx>reject_request</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kd>function</span><span class=p>(</span><span class=nx>frm</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=c1>// Move to rejected status with reason</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>    </span><span class=c1>// Update approval tracking</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=p>};</span>
</span></code></pre></div> <h4 id=business-logic>Business Logic<a class=headerlink href=#business-logic title="Permanent link">&para;</a></h4> <ol> <li><strong>Individual Review</strong>: Each expense item reviewed separately</li> <li><strong>Status Progression</strong>: Requested → Approved/Rejected</li> <li><strong>Automatic Totaling</strong>: Real-time calculation of approved amounts</li> <li><strong>Payment Status</strong>: Waiting Approval → Waiting Payment → Paid</li> </ol> <h3 id=4-journal-entry-creation>4. Journal Entry Creation<a class=headerlink href=#4-journal-entry-creation title="Permanent link">&para;</a></h3> <p>For approved fund requests, the system creates Journal Entries:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=nd>@frappe</span><span class=o>.</span><span class=n>whitelist</span><span class=p>()</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>def</span><span class=w> </span><span class=nf>create_fund_jl</span><span class=p>(</span><span class=n>doc</span><span class=p>,</span> <span class=n>row</span><span class=p>):</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=c1># Multi-currency handling</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=k>if</span> <span class=n>company_currency</span> <span class=o>!=</span> <span class=n>row</span><span class=o>.</span><span class=n>request_currency</span><span class=p>:</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=n>multi_currency</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=n>exchange_rate</span> <span class=o>=</span> <span class=n>get_exchange_rate</span><span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>request_currency</span><span class=p>,</span> <span class=n>company_currency</span><span class=p>)</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=c1># Create Journal Entry with proper accounts</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=n>jv_doc</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_doc</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>        <span class=n>doctype</span><span class=o>=</span><span class=s2>&quot;Journal Entry&quot;</span><span class=p>,</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>        <span class=n>posting_date</span><span class=o>=</span><span class=n>row</span><span class=o>.</span><span class=n>requested_date</span><span class=p>,</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>        <span class=n>accounts</span><span class=o>=</span><span class=n>accounts</span><span class=p>,</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>        <span class=n>company</span><span class=o>=</span><span class=n>doc</span><span class=o>.</span><span class=n>company</span><span class=p>,</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>        <span class=n>multi_currency</span><span class=o>=</span><span class=n>multi_currency</span><span class=p>,</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>    <span class=p>))</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>    <span class=c1># Set accounting dimensions</span>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>    <span class=n>set_dimension</span><span class=p>(</span><span class=n>doc</span><span class=p>,</span> <span class=n>jv_doc</span><span class=p>)</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>    <span class=n>jv_doc</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</span></code></pre></div> <hr> <h2 id=fuel-request-management-workflow>Fuel Request Management Workflow<a class=headerlink href=#fuel-request-management-workflow title="Permanent link">&para;</a></h2> <h3 id=1-fuel-request-creation>1. Fuel Request Creation<a class=headerlink href=#1-fuel-request-creation title="Permanent link">&para;</a></h3> <p>Fuel requests are created within the Trip doctype's Fuel tab:</p> <h4 id=required-information>Required Information<a class=headerlink href=#required-information title="Permanent link">&para;</a></h4> <ul> <li><strong>Item Code</strong>: Fuel item from Transport Settings</li> <li><strong>Quantity</strong>: Liters required</li> <li><strong>Cost per Liter</strong>: Current fuel price</li> <li><strong>Supplier</strong>: Fuel supplier</li> <li><strong>Disbursement Type</strong>: Cash or Credit</li> <li><strong>Currency</strong>: USD or TZS</li> </ul> <h3 id=2-fuel-requests-document>2. Fuel Requests Document<a class=headerlink href=#2-fuel-requests-document title="Permanent link">&para;</a></h3> <p>The <strong>Fuel Requests</strong> doctype aggregates all fuel requirements:</p> <h4 id=document-features>Document Features<a class=headerlink href=#document-features title="Permanent link">&para;</a></h4> <ul> <li><strong>Trip Reference</strong>: Links to originating trip</li> <li><strong>Vehicle Information</strong>: Truck and driver details</li> <li><strong>Route Context</strong>: Main and return route information</li> <li><strong>Request Management</strong>: Pending, approved, and rejected requests</li> </ul> <h4 id=custom-load-function>Custom Load Function<a class=headerlink href=#custom-load-function title="Permanent link">&para;</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>def</span><span class=w> </span><span class=nf>load_from_db</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>    <span class=c1># Custom loading for approved/rejected requests</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=n>children_main_approved</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>db</span><span class=o>.</span><span class=n>get_values</span><span class=p>(</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>        <span class=s2>&quot;Fuel Requests Table&quot;</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>        <span class=p>{</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>            <span class=s2>&quot;parent&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;reference_docname&quot;</span><span class=p>),</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>            <span class=s2>&quot;status&quot;</span><span class=p>:</span> <span class=s2>&quot;Approved&quot;</span><span class=p>,</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>        <span class=p>},</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=s2>&quot;*&quot;</span><span class=p>,</span> <span class=n>as_dict</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=p>)</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=c1># Set approved requests in document</span>
</span></code></pre></div> <h3 id=3-fuel-approval-process>3. Fuel Approval Process<a class=headerlink href=#3-fuel-approval-process title="Permanent link">&para;</a></h3> <h4 id=approval-interface_1>Approval Interface<a class=headerlink href=#approval-interface_1 title="Permanent link">&para;</a></h4> <ul> <li><strong>Requested Fuel Section</strong>: Pending requests</li> <li><strong>Approve Buttons</strong>: Individual request approval</li> <li><strong>Approved/Rejected Section</strong>: Processed requests</li> <li><strong>Status Tracking</strong>: Overall request status</li> </ul> <h4 id=validation-rules>Validation Rules<a class=headerlink href=#validation-rules title="Permanent link">&para;</a></h4> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>def</span><span class=w> </span><span class=nf>validate_request_status</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>fuel_request_history</span><span class=p>:</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>        <span class=k>if</span> <span class=n>row</span><span class=o>.</span><span class=n>status</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;Rejected&quot;</span><span class=p>,</span> <span class=s2>&quot;Approved&quot;</span><span class=p>]:</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>            <span class=n>frappe</span><span class=o>.</span><span class=n>throw</span><span class=p>(</span><span class=s2>&quot;All fuel requests must be approved or rejected&quot;</span><span class=p>)</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>        <span class=k>if</span> <span class=n>row</span><span class=o>.</span><span class=n>status</span> <span class=o>==</span> <span class=s2>&quot;Approved&quot;</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>row</span><span class=o>.</span><span class=n>purchase_order</span><span class=p>:</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>            <span class=n>frappe</span><span class=o>.</span><span class=n>throw</span><span class=p>(</span><span class=s2>&quot;Approved requests need Purchase Orders&quot;</span><span class=p>)</span>
</span></code></pre></div> <h3 id=4-purchase-order-generation>4. Purchase Order Generation<a class=headerlink href=#4-purchase-order-generation title="Permanent link">&para;</a></h3> <p>For approved fuel requests, Purchase Orders are created:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nd>@frappe</span><span class=o>.</span><span class=n>whitelist</span><span class=p>()</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=k>def</span><span class=w> </span><span class=nf>create_purchase_order</span><span class=p>(</span><span class=n>request_doc</span><span class=p>,</span> <span class=n>item</span><span class=p>):</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=n>doc</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>new_doc</span><span class=p>(</span><span class=s2>&quot;Purchase Order&quot;</span><span class=p>)</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=n>doc</span><span class=o>.</span><span class=n>company</span> <span class=o>=</span> <span class=n>request_doc</span><span class=o>.</span><span class=n>company</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>    <span class=n>doc</span><span class=o>.</span><span class=n>supplier</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>supplier</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>    <span class=n>doc</span><span class=o>.</span><span class=n>currency</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>currency</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    <span class=n>doc</span><span class=o>.</span><span class=n>set_warehouse</span> <span class=o>=</span> <span class=n>set_warehouse</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>    <span class=n>new_item</span> <span class=o>=</span> <span class=n>doc</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;items&quot;</span><span class=p>,</span> <span class=p>{})</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>    <span class=n>new_item</span><span class=o>.</span><span class=n>item_code</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>item_code</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>    <span class=n>new_item</span><span class=o>.</span><span class=n>qty</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>quantity</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>    <span class=n>new_item</span><span class=o>.</span><span class=n>rate</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>cost_per_litre</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>    <span class=n>set_dimension</span><span class=p>(</span><span class=n>request_doc</span><span class=p>,</span> <span class=n>doc</span><span class=p>)</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>    <span class=n>doc</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=n>ignore_permissions</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <h3 id=5-stock-entry-management>5. Stock Entry Management<a class=headerlink href=#5-stock-entry-management title="Permanent link">&para;</a></h3> <p>For fuel consumption tracking:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nd>@frappe</span><span class=o>.</span><span class=n>whitelist</span><span class=p>()</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>def</span><span class=w> </span><span class=nf>create_stock_out_entry</span><span class=p>(</span><span class=n>doc</span><span class=p>,</span> <span class=n>fuel_stock_out</span><span class=p>):</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=n>fuel_item</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_value</span><span class=p>(</span><span class=s2>&quot;Transport Settings&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&quot;fuel_item&quot;</span><span class=p>)</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>    <span class=n>warehouse</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_value</span><span class=p>(</span><span class=s2>&quot;Truck&quot;</span><span class=p>,</span> <span class=n>doc</span><span class=o>.</span><span class=n>truck_number</span><span class=p>,</span> <span class=s2>&quot;trans_ms_fuel_warehouse&quot;</span><span class=p>)</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>    <span class=n>stock_entry_doc</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_doc</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>        <span class=n>doctype</span><span class=o>=</span><span class=s2>&quot;Stock Entry&quot;</span><span class=p>,</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>        <span class=n>stock_entry_type</span><span class=o>=</span><span class=s2>&quot;Material Issue&quot;</span><span class=p>,</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>        <span class=n>from_warehouse</span><span class=o>=</span><span class=n>warehouse</span><span class=p>,</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>        <span class=n>items</span><span class=o>=</span><span class=p>[{</span><span class=s2>&quot;item_code&quot;</span><span class=p>:</span> <span class=n>fuel_item</span><span class=p>,</span> <span class=s2>&quot;qty&quot;</span><span class=p>:</span> <span class=nb>float</span><span class=p>(</span><span class=n>fuel_stock_out</span><span class=p>)}],</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>    <span class=p>))</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>    <span class=n>set_dimension</span><span class=p>(</span><span class=n>doc</span><span class=p>,</span> <span class=n>stock_entry_doc</span><span class=p>)</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>    <span class=n>stock_entry_doc</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=n>ignore_permissions</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></code></pre></div> <hr> <h2 id=real-time-financial-tracking>Real-time Financial Tracking<a class=headerlink href=#real-time-financial-tracking title="Permanent link">&para;</a></h2> <h3 id=dashboard-summaries>Dashboard Summaries<a class=headerlink href=#dashboard-summaries title="Permanent link">&para;</a></h3> <h4 id=trip-funds-display>Trip Funds Display<a class=headerlink href=#trip-funds-display title="Permanent link">&para;</a></h4> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=kd>function</span><span class=w> </span><span class=nx>approved_total</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>total_request_tsh</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>total_request_usd</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class=nx>cur_frm</span><span class=p>.</span><span class=nx>doc</span><span class=p>.</span><span class=nx>requested_fund_accounts_table</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=w> </span><span class=p>(</span><span class=nx>row</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>row</span><span class=p>.</span><span class=nx>request_currency</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s1>&#39;TZS&#39;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=nx>row</span><span class=p>.</span><span class=nx>request_status</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;Approved&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>            </span><span class=nx>total_request_tsh</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=nx>row</span><span class=p>.</span><span class=nx>request_amount</span><span class=p>;</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>    </span><span class=p>});</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>    </span><span class=c1>// Update HTML display with totals</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>    </span><span class=nx>cur_frm</span><span class=p>.</span><span class=nx>get_field</span><span class=p>(</span><span class=s2>&quot;html2&quot;</span><span class=p>).</span><span class=nx>wrapper</span><span class=p>.</span><span class=nx>innerHTML</span><span class=w> </span><span class=o>=</span><span class=w> </span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>        </span><span class=s1>&#39;&lt;p&gt;Total Amount Approved&lt;/p&gt;&lt;b&gt;USD &#39;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>total_request_usd</span><span class=p>.</span><span class=nx>toLocaleString</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>        </span><span class=s1>&#39; &lt;br&gt; TZS &#39;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>total_request_tsh</span><span class=p>.</span><span class=nx>toLocaleString</span><span class=p>()</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s1>&#39;&lt;/b&gt;&#39;</span><span class=p>;</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=p>}</span>
</span></code></pre></div> <h4 id=fuel-tracking>Fuel Tracking<a class=headerlink href=#fuel-tracking title="Permanent link">&para;</a></h4> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kd>function</span><span class=w> </span><span class=nx>fuel_amount</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>approved_fuel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>requested_fuel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>    </span><span class=kd>var</span><span class=w> </span><span class=nx>rejected_fuel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class=nx>cur_frm</span><span class=p>.</span><span class=nx>doc</span><span class=p>.</span><span class=nx>fuel_request_history</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=w> </span><span class=p>(</span><span class=nx>row</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>row</span><span class=p>.</span><span class=nx>status</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;Approved&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>            </span><span class=nx>approved_fuel</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=nx>row</span><span class=p>.</span><span class=nx>quantity</span><span class=p>;</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>    </span><span class=p>});</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>    </span><span class=c1>// Display fuel summaries</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=accounting-dimension-integration>Accounting Dimension Integration<a class=headerlink href=#accounting-dimension-integration title="Permanent link">&para;</a></h2> <h3 id=automatic-dimension-setting>Automatic Dimension Setting<a class=headerlink href=#automatic-dimension-setting title="Permanent link">&para;</a></h3> <p>The system automatically applies accounting dimensions to financial transactions:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>def</span><span class=w> </span><span class=nf>set_dimension</span><span class=p>(</span><span class=n>src_doc</span><span class=p>,</span> <span class=n>tr_doc</span><span class=p>,</span> <span class=n>src_child</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>tr_child</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=nb>set</span> <span class=o>=</span> <span class=n>frappe</span><span class=o>.</span><span class=n>get_cached_doc</span><span class=p>(</span><span class=s2>&quot;Transport Settings&quot;</span><span class=p>,</span> <span class=s2>&quot;Transport Settings&quot;</span><span class=p>)</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=k>for</span> <span class=n>dim</span> <span class=ow>in</span> <span class=nb>set</span><span class=o>.</span><span class=n>accounting_dimension</span><span class=p>:</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>        <span class=k>if</span> <span class=n>dim</span><span class=o>.</span><span class=n>source_doctype</span> <span class=o>==</span> <span class=n>src_doc</span><span class=o>.</span><span class=n>doctype</span> <span class=ow>and</span> <span class=n>dim</span><span class=o>.</span><span class=n>target_doctype</span> <span class=o>==</span> <span class=n>tr_doc</span><span class=o>.</span><span class=n>doctype</span><span class=p>:</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>            <span class=k>if</span> <span class=n>dim</span><span class=o>.</span><span class=n>source_type</span> <span class=o>==</span> <span class=s2>&quot;Field&quot;</span><span class=p>:</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>                <span class=n>value</span> <span class=o>=</span> <span class=n>src_doc</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>dim</span><span class=o>.</span><span class=n>source_field_name</span><span class=p>)</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>            <span class=k>elif</span> <span class=n>dim</span><span class=o>.</span><span class=n>source_type</span> <span class=o>==</span> <span class=s2>&quot;Value&quot;</span><span class=p>:</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>                <span class=n>value</span> <span class=o>=</span> <span class=n>dim</span><span class=o>.</span><span class=n>value</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>            <span class=k>if</span> <span class=n>dim</span><span class=o>.</span><span class=n>target_type</span> <span class=o>==</span> <span class=s2>&quot;Main&quot;</span><span class=p>:</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>                <span class=nb>setattr</span><span class=p>(</span><span class=n>tr_doc</span><span class=p>,</span> <span class=n>dim</span><span class=o>.</span><span class=n>target_field_name</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></code></pre></div> <h3 id=supported-dimensions>Supported Dimensions<a class=headerlink href=#supported-dimensions title="Permanent link">&para;</a></h3> <ul> <li><strong>Truck</strong>: Vehicle-based cost tracking</li> <li><strong>Route</strong>: Route-based profitability analysis</li> <li><strong>Driver</strong>: Driver performance metrics</li> <li><strong>Customer</strong>: Customer profitability tracking</li> </ul> <hr> <h2 id=multi-currency-support>Multi-Currency Support<a class=headerlink href=#multi-currency-support title="Permanent link">&para;</a></h2> <h3 id=currency-handling>Currency Handling<a class=headerlink href=#currency-handling title="Permanent link">&para;</a></h3> <ul> <li><strong>Base Currency</strong>: TZS (Tanzanian Shilling)</li> <li><strong>Foreign Currency</strong>: USD (US Dollar)</li> <li><strong>Exchange Rates</strong>: Automatic rate fetching</li> <li><strong>Conversion Logic</strong>: Proper multi-currency accounting</li> </ul> <h3 id=exchange-rate-management>Exchange Rate Management<a class=headerlink href=#exchange-rate-management title="Permanent link">&para;</a></h3> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>if</span> <span class=n>company_currency</span> <span class=o>!=</span> <span class=n>row</span><span class=o>.</span><span class=n>request_currency</span><span class=p>:</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    <span class=n>multi_currency</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>exchange_rate</span> <span class=o>=</span> <span class=n>get_exchange_rate</span><span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>request_currency</span><span class=p>,</span> <span class=n>company_currency</span><span class=p>)</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>debit_amount</span> <span class=o>=</span> <span class=n>row</span><span class=o>.</span><span class=n>request_amount</span> <span class=o>*</span> <span class=n>exchange_rate</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=k>else</span><span class=p>:</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    <span class=n>multi_currency</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=n>exchange_rate</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>    <span class=n>debit_amount</span> <span class=o>=</span> <span class=n>row</span><span class=o>.</span><span class=n>request_amount</span>
</span></code></pre></div> <hr> <h2 id=status-management-and-validation>Status Management and Validation<a class=headerlink href=#status-management-and-validation title="Permanent link">&para;</a></h2> <h3 id=fund-request-statuses>Fund Request Statuses<a class=headerlink href=#fund-request-statuses title="Permanent link">&para;</a></h3> <ul> <li><strong>Requested</strong>: Initial state, awaiting approval</li> <li><strong>Approved</strong>: Management approved, ready for payment</li> <li><strong>Rejected</strong>: Request denied with reason</li> <li><strong>Paid</strong>: Payment completed (Journal Entry created)</li> </ul> <h3 id=fuel-request-statuses>Fuel Request Statuses<a class=headerlink href=#fuel-request-statuses title="Permanent link">&para;</a></h3> <ul> <li><strong>Requested</strong>: Initial state, awaiting approval</li> <li><strong>Approved</strong>: Approved for procurement</li> <li><strong>Rejected</strong>: Request denied</li> <li><strong>Ordered</strong>: Purchase Order created</li> </ul> <h3 id=validation-gates>Validation Gates<a class=headerlink href=#validation-gates title="Permanent link">&para;</a></h3> <ol> <li><strong>Trip Submission</strong>: All requests must be approved/rejected</li> <li><strong>Fund Disbursement</strong>: Approved funds need Journal Entries</li> <li><strong>Fuel Procurement</strong>: Approved fuel needs Purchase Orders</li> <li><strong>Stock Management</strong>: Fuel consumption requires Stock Entries</li> </ol> <hr> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <h3 id=fund-management>Fund Management<a class=headerlink href=#fund-management title="Permanent link">&para;</a></h3> <ol> <li><strong>Timely Approval</strong>: Process requests promptly for smooth operations</li> <li><strong>Proper Documentation</strong>: Maintain clear approval reasons</li> <li><strong>Budget Control</strong>: Monitor expense patterns and limits</li> <li><strong>Regular Reconciliation</strong>: Match actual vs. planned expenses</li> </ol> <h3 id=fuel-management>Fuel Management<a class=headerlink href=#fuel-management title="Permanent link">&para;</a></h3> <ol> <li><strong>Market Pricing</strong>: Regular fuel price updates</li> <li><strong>Supplier Management</strong>: Maintain approved supplier list</li> <li><strong>Consumption Tracking</strong>: Monitor fuel efficiency patterns</li> <li><strong>Stock Control</strong>: Maintain adequate fuel inventory</li> </ol> <h3 id=financial-controls>Financial Controls<a class=headerlink href=#financial-controls title="Permanent link">&para;</a></h3> <ol> <li><strong>Segregation of Duties</strong>: Separate request and approval roles</li> <li><strong>Approval Limits</strong>: Define authorization levels</li> <li><strong>Audit Trail</strong>: Maintain complete transaction history</li> <li><strong>Regular Reports</strong>: Monitor financial performance</li> </ol> <hr> <h2 id=reporting-and-analytics>Reporting and Analytics<a class=headerlink href=#reporting-and-analytics title="Permanent link">&para;</a></h2> <h3 id=standard-reports>Standard Reports<a class=headerlink href=#standard-reports title="Permanent link">&para;</a></h3> <ul> <li><strong>Trip Report and Expenses</strong>: Complete financial analysis per trip</li> <li><strong>Fuel Expense By Trip</strong>: Detailed fuel cost tracking</li> <li><strong>General Ledger</strong>: Accounting impact analysis</li> </ul> <h3 id=key-metrics>Key Metrics<a class=headerlink href=#key-metrics title="Permanent link">&para;</a></h3> <ul> <li><strong>Cost per Trip</strong>: Total expenses per transportation job</li> <li><strong>Fuel Efficiency</strong>: Consumption vs. planned ratios</li> <li><strong>Approval Rates</strong>: Request approval/rejection patterns</li> <li><strong>Payment Timing</strong>: Average payment processing time</li> </ul> <hr> <p>The financial workflow systems ensure complete control and visibility over transportation costs while maintaining integration with ERPNext's accounting framework for comprehensive financial management.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 11, 2025 10:12:00">August 11, 2025</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 11, 2025 10:12:00">August 11, 2025</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../trip-management/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Trip Management"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Trip Management </div> </div> </a> <a href=../../api/doctype-reference/ class="md-footer__link md-footer__link--next" aria-label="Next: DocType Reference"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> DocType Reference </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> </div> <div class=md-social> <a href=https://github.com/nelsonmpanju/Fleet-Management-System target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.instant", "navigation.footer", "navigation.path", "toc.follow", "search.highlight", "search.share", "search.suggest", "header.autohide", "announce.dismiss", "content.code.copy", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.c8b220af.min.js></script> <script src=../../javascripts/extra.js></script> </body> </html>